// This example requires the Visualization library. Include the libraries=visualization
// parameter when you first load the API. For example:
// <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=visualization">

var map, heatmap;

function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    zoom: 16,
    center: {lat: 43.640667, lng: -79.451257}, 
    mapTypeId: 'satellite'
  });

  heatmap = new google.maps.visualization.HeatmapLayer({
    data: getPoints(),
    map: map
  });
}

function toggleHeatmap() {
  heatmap.setMap(heatmap.getMap() ? null : map);
}

function changeGradient() {
  var gradient = [
    'rgba(0, 255, 255, 0)',
    'rgba(0, 255, 255, 1)',
    'rgba(0, 191, 255, 1)',
    'rgba(0, 127, 255, 1)',
    'rgba(0, 63, 255, 1)',
    'rgba(0, 0, 255, 1)',
    'rgba(0, 0, 223, 1)',
    'rgba(0, 0, 191, 1)',
    'rgba(0, 0, 159, 1)',
    'rgba(0, 0, 127, 1)',
    'rgba(63, 0, 91, 1)',
    'rgba(127, 0, 63, 1)',
    'rgba(191, 0, 31, 1)',
    'rgba(255, 0, 0, 1)'
  ]
  heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
}

function changeRadius() {
  heatmap.set('radius', heatmap.get('radius') ? null : 20);
}

function changeOpacity() {
  heatmap.set('opacity', heatmap.get('opacity') ? null : 0.2);
}


var geoCords = [ 
[43.6616457, -79.458264, 4],
[43.6434442, -79.4439575, 1],
[43.6412292, -79.4533651, 2],
[43.6508289, -79.4551998, 3],
[43.6438614, -79.4514056, 3],
[43.6419578, -79.4511791, 1],
[43.6426349, -79.4523009, 2],
[43.6440326, -79.445431, 2],
[43.6430071, -79.4508264, 2],
[43.6422792, -79.4443996, 1],
[43.6447470, -79.4511142, 6],
[43.6432683, -79.4542279, 3],
[43.6416643, -79.4507622, 1],
[43.6451714, -79.4414708, 1],
[43.6410782, -79.4538361, 7],
[43.6463818, -79.4513896, 9],
[43.6426272, -79.4531198, 8],
[43.6437383, -79.4439396, 5],
[43.6425702, -79.4511648, 5],
[43.6448279, -79.4511771, 1],
[43.6413390, -79.451492, 1],
[43.6429793, -79.4459048, 2],
[43.6432822, -79.4540879, 3],
[43.6443885, -79.4436996, 3],
[43.6415369, -79.4457015, 2],
[43.6421599, -79.4407247, 1],
[43.6445268, -79.4450516, 1],
[43.6491366, -79.4523752, 7],
[43.6437818, -79.44684, 11],
[43.6431078, -79.4453773, 2],
[43.6437657, -79.4501959, 8],
[43.6510724, -79.4554675, 3],
[43.6421290, -79.4454073, 2],
[43.6499789, -79.4532253, 1],
[43.6434211, -79.4434693, 3],
[43.6428653, -79.4466764, 5],
[43.6443023, -79.4508498, 2],
[43.6423468, -79.4442714, 5],
[43.6452413, -79.4508496, 4],
[43.6437156, -79.444241, 6],
[43.6433980, -79.4456229, 6],
[43.6433427, -79.446242, 7],
[43.6446266, -79.4423811, 3],
[43.6447264, -79.4420297, 1],
[43.6433583, -79.4535578, 2],
[43.6429689, -79.4464035, 3],
[43.6420055, -79.4460411, 13],
[43.6426438, -79.4497157, 3],
[43.6415796, -79.4438793, 4],
[43.6422702, -79.4521771, 1],
[43.6444732, -79.4432303, 10],
[43.6423197, -79.444564, 4],
[43.6411281, -79.4458112, 2],
[43.6434361, -79.4511956, 2],
[43.6443171, -79.4411968, 5],
[43.6445842, -79.4517486, 1],
[43.6425056, -79.4407985, 2],
[43.6440104, -79.4455599, 2],
[43.6441395, -79.4402423, 8],
[43.6430357, -79.445609, 4],
[43.6414271, -79.4443006, 4],
[43.6471186, -79.4520283, 1],


  ];


// Heatmap data points
function getPoints() {
  var retArr = [];

  //append all the coordinates
  for (i = 0; i<geoCords.length; i++){
    retArr.push({location: new google.maps.LatLng(geoCords[i][0], geoCords[i][1]), weight: 1});
  }

  return retArr
}

